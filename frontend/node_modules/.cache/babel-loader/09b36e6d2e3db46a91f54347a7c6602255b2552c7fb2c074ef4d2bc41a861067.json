{"ast":null,"code":"var _jsxFileName = \"E:\\\\financial-health-tool\\\\frontend\\\\src\\\\components\\\\Upload.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Upload({\n  onInsights\n}) {\n  _s();\n  // Receive onInsights prop from App.js\n  const [file, setFile] = useState(null);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false); // For loading state\n\n  const handleUpload = async () => {\n    if (!file) {\n      setError('Please select a file first.');\n      return;\n    }\n    setLoading(true); // Start loading\n    setError(''); // Clear previous errors\n\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('industry', 'Manufacturing'); // Default industry; can make this a dropdown later\n\n    try {\n      const response = await axios.post('http://127.0.0.1:8000/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // Pass data to App.js for state management\n      onInsights({\n        insights: response.data.insights,\n        financialData: response.data.data || {} // Backend returns 'data' with revenue/expenses\n      });\n    } catch (err) {\n      console.error('Upload error:', err); // Log for debugging\n      setError('Upload failed. Check console for details.');\n      onInsights({\n        insights: '',\n        financialData: {}\n      }); // Reset data on error\n    } finally {\n      setLoading(false); // Stop loading\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Upload Financial Data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \".csv,.xlsx,.pdf\",\n      onChange: e => setFile(e.target.files[0]),\n      style: {\n        margin: '10px 0'\n      } // Inline style for attractiveness\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpload,\n      disabled: loading // Disable during loading\n      ,\n      style: {\n        marginTop: '15px',\n        padding: '12px 25px',\n        background: loading ? '#ccc' : 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',\n        color: 'white',\n        border: 'none',\n        borderRadius: '25px',\n        cursor: loading ? 'not-allowed' : 'pointer',\n        fontSize: '1rem',\n        fontWeight: '600',\n        transition: 'all 0.3s ease'\n      },\n      children: loading ? 'Uploading...' : 'Upload'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: '#dc3545',\n        marginTop: '15px'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }, this), \"  \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(Upload, \"zemLLjpIXaK1pN1ujLb0pGj6wXM=\");\n_c = Upload;\nexport default Upload;\nvar _c;\n$RefreshReg$(_c, \"Upload\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","Upload","onInsights","_s","file","setFile","error","setError","loading","setLoading","handleUpload","formData","FormData","append","response","post","headers","insights","data","financialData","err","console","children","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","e","target","files","style","margin","onClick","disabled","marginTop","padding","background","color","border","borderRadius","cursor","fontSize","fontWeight","transition","_c","$RefreshReg$"],"sources":["E:/financial-health-tool/frontend/src/components/Upload.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction Upload({ onInsights }) {  // Receive onInsights prop from App.js\r\n  const [file, setFile] = useState(null);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);  // For loading state\r\n\r\n  const handleUpload = async () => {\r\n    if (!file) {\r\n      setError('Please select a file first.');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);  // Start loading\r\n    setError('');  // Clear previous errors\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    formData.append('industry', 'Manufacturing');  // Default industry; can make this a dropdown later\r\n\r\n    try {\r\n      const response = await axios.post('http://127.0.0.1:8000/upload', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      \r\n      // Pass data to App.js for state management\r\n      onInsights({\r\n        insights: response.data.insights,\r\n        financialData: response.data.data || {}  // Backend returns 'data' with revenue/expenses\r\n      });\r\n    } catch (err) {\r\n      console.error('Upload error:', err);  // Log for debugging\r\n      setError('Upload failed. Check console for details.');\r\n      onInsights({ insights: '', financialData: {} });  // Reset data on error\r\n    } finally {\r\n      setLoading(false);  // Stop loading\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Upload Financial Data</h2>\r\n      <input \r\n        type=\"file\" \r\n        accept=\".csv,.xlsx,.pdf\" \r\n        onChange={(e) => setFile(e.target.files[0])} \r\n        style={{ margin: '10px 0' }}  // Inline style for attractiveness\r\n      />\r\n      <button \r\n        onClick={handleUpload} \r\n        disabled={loading}  // Disable during loading\r\n        style={{ \r\n          marginTop: '15px', \r\n          padding: '12px 25px', \r\n          background: loading ? '#ccc' : 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)', \r\n          color: 'white', \r\n          border: 'none', \r\n          borderRadius: '25px', \r\n          cursor: loading ? 'not-allowed' : 'pointer', \r\n          fontSize: '1rem', \r\n          fontWeight: '600', \r\n          transition: 'all 0.3s ease' \r\n        }}\r\n      >\r\n        {loading ? 'Uploading...' : 'Upload'}\r\n      </button>\r\n      {error && <p style={{ color: '#dc3545', marginTop: '15px' }}>{error}</p>}  {/* Error in red */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Upload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}